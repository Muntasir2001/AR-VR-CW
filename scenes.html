<!DOCTYPE html>
<html class="a-fullscreen" foxified>
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<script src="./aframe/aframe.min.js"></script>
		<title>LSBU Virtual Tour</title>
	</head>
	<body>
	
		<a-scene>
			<a-assets>
				<video id="video1" class="video" loop="true" src="assets/video1.mp4" crossorigin="anonymous"></video>
				<video id="video2" class="video" loop="true" src="assets/video2.mp4" crossorigin="anonymous"></video>
				<video id="video3" class="video" loop="true" src="assets/video3.mp4" crossorigin="anonymous"></video>
			</a-assets>

			<a-entity id="scene1" class="scene" position="0 0 0" visible="true">
				<a-videosphere src="#video1"></a-videosphere>

				<a-cone color="red" position="1.1 1 0" rotation="0 0 90" scale="0.5 0.5 0.5" onclick="scene_3()">
					<a-text color="black" value="Go to previous" rotation="0 0 -90" position="-1 0.3 1" scale="1 1 1"></a-text>
				</a-cone>
				<a-box color="red" position="2 1 0" scale="0.5 0.5 0.5" onclick="home()">
					<a-text color="black" value="Return home" position="-0.6 -0.5 1" scale="1 1 1"></a-text>
				</a-box>
				<a-cone color="red" position="2.9 1 0" rotation="0 0 -90" scale="0.5 0.5 0.5" onclick="scene_2()">
					<a-text color="black" value="Go to next" rotation="0 0 90" position="1 -1 1" scale="1 1 1"></a-text>
				</a-cone>
			</a-entity>
	
			<a-entity id="scene2" class="scene" position="0 1 0" visible="false">
				<a-videosphere src="#video2"></a-videosphere>

				<a-cone color="red" position="1.1 1 0" rotation="0 0 90" scale="0.5 0.5 0.5" onclick="scene_1()">
					<a-text color="black" value="Go to previous" rotation="0 0 -90" position="-1 0.3 1" scale="1 1 1"></a-text>
				</a-cone>
				<a-box color="red" position="2 1 0" scale="0.5 0.5 0.5" onclick="home()">
					<a-text color="black" value="Return home" position="-0.6 -0.5 1" scale="1 1 1"></a-text>
				</a-box>
				<a-cone color="red" position="2.9 1 0" rotation="0 0 -90" scale="0.5 0.5 0.5" onclick="scene_3()">
					<a-text color="black" value="Go to next" rotation="0 0 90" position="1 -1 1" scale="1 1 1"></a-text>
				</a-cone>
			</a-entity>
	
			<a-entity id="scene3" class="scene" position="0 2 0" visible="false">
				<a-videosphere src="#video3"></a-videosphere>

				<a-cone color="red" position="1.1 1 0" rotation="0 0 90" scale="0.5 0.5 0.5" onclick="scene_2()">
					<a-text color="black" value="Go to previous" rotation="0 0 -90" position="-1 0.3 1" scale="1 1 1"></a-text>
				</a-cone>
				<a-box color="red" position="2 1 0" scale="0.5 0.5 0.5" onclick="home()">
					<a-text color="black" value="Return home" position="-0.6 -0.5 1" scale="1 1 1"></a-text>
				</a-box>
				<a-cone color="red" position="2.9 1 0" rotation="0 0 -90" scale="0.5 0.5 0.5" onclick="scene_1()">
					<a-text color="black" value="Go to next" rotation="0 0 90" position="1 -1 1" scale="1 1 1"></a-text>
				</a-cone>
			</a-entity>
	
			<!-- Player Viewport -->
			<a-entity id="camera" position="2 0 3">
				<a-camera wasd-controls-enabled="false">
					<!-- Cursor Circle --> 
					<a-cursor color="red"> </a-cursor>
				</a-camera>
			</a-entity>
		</a-scene>

		<script type="text/javascript">
			function home() {
				window.location.href = '/index.html';
			}

			function pauseVideos() {
				document.querySelectorAll(".video").forEach(video => {
					video.pause();
				});
			}

			function hideScenes() {
				document.querySelectorAll(".scene").forEach(scene => {
					scene.setAttribute("visible", "false");
				});
			}

			function scene_1() {
				pauseVideos();
				hideScenes();
				document.getElementById("scene1").setAttribute("visible", "true");
				document.getElementById("camera").setAttribute("position", "2 0 3");
				document.getElementById("video1").play();
			}
	
			function scene_2() {
				pauseVideos();
				hideScenes();
				document.getElementById("scene2").setAttribute("visible", "true");
				document.getElementById("camera").setAttribute("position", "2 1 3");
				document.getElementById("video2").play();
			}
	
			function scene_3() {
				pauseVideos();
				hideScenes();
				document.getElementById("scene3").setAttribute("visible", "true");
				document.getElementById("camera").setAttribute("position", "2 2 3");
				document.getElementById("video3").play();
			}
		</script>
	</body>
</html>

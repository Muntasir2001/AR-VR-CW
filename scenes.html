<!DOCTYPE html>
<html class="a-fullscreen" foxified>
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<script src="./aframe/aframe.min.js"></script>
		<link
			rel="icon"
			type="image/png"
			sizes="32x32"
			href="/assets/favicon/favicon.png"
		/>
		<title>LSBU Virtual Tour</title>
	</head>
	<body>
	
		<a-scene>
			<a-assets>
				<video id="video1" class="video" loop="true" src="assets/video1.mp4"></video>
				<video id="video2" class="video" loop="true" src="assets/video2.mp4"></video>
				<video id="video3" class="video" loop="true" src="assets/video3.mp4"></video>
				<video id="video4" class="video" loop="true" src="assets/video4.mp4"></video>
				<video id="video5" class="video" loop="true" src="assets/video5.mp4"></video>
			</a-assets>

			<a-entity id="scene1" class="scene" position="0 0 0" visible="true">
				<a-videosphere id="video1sphere" src="#video1"></a-videosphere>

				<a-cone color="red" position="1.1 1 0" rotation="0 0 90" scale="0.4 0.4 0.4" onclick="scene_5()">
					<a-text color="black" value="Go to previous" rotation="0 0 -90" position="-1 0.3 1" scale="1 1 1"></a-text>
				</a-cone>
				<a-box color="red" position="2 1 0" scale="0.4 0.4 0.4" onclick="home()">
					<a-text color="black" value="Return home" position="-0.6 -0.5 1" scale="1 1 1"></a-text>
				</a-box>
				<a-cone color="red" position="2.9 1 0" rotation="0 0 -90" scale="0.4 0.4 0.4" onclick="scene_2()">
					<a-text color="black" value="Go to next" rotation="0 0 90" position="1 -1 1" scale="1 1 1"></a-text>
				</a-cone>
			</a-entity>
	
			<a-entity id="scene2" class="scene" position="0 10 0" visible="false">
				<a-videosphere src="#video2"></a-videosphere>

				<a-cone color="red" position="1.1 1 0" rotation="0 0 90" scale="0.4 0.4 0.4" onclick="scene_1()">
					<a-text color="black" value="Go to previous" rotation="0 0 -90" position="-1 0.3 1" scale="1 1 1"></a-text>
				</a-cone>
				<a-box color="red" position="2 1 0" scale="0.4 0.4 0.4" onclick="home()">
					<a-text color="black" value="Return home" position="-0.6 -0.5 1" scale="1 1 1"></a-text>
				</a-box>
				<a-cone color="red" position="2.9 1 0" rotation="0 0 -90" scale="0.4 0.4 0.4" onclick="scene_3()">
					<a-text color="black" value="Go to next" rotation="0 0 90" position="1 -1 1" scale="1 1 1"></a-text>
				</a-cone>
			</a-entity>
	
			<a-entity id="scene3" class="scene" position="0 20 0" visible="false">
				<a-videosphere src="#video3"></a-videosphere>

				<a-cone color="red" position="1.1 1 0" rotation="0 0 90" scale="0.4 0.4 0.4" onclick="scene_2()">
					<a-text color="black" value="Go to previous" rotation="0 0 -90" position="-1 0.3 1" scale="1 1 1"></a-text>
				</a-cone>
				<a-box color="red" position="2 1 0" scale="0.4 0.4 0.4" onclick="home()">
					<a-text color="black" value="Return home" position="-0.6 -0.5 1" scale="1 1 1"></a-text>
				</a-box>
				<a-cone color="red" position="2.9 1 0" rotation="0 0 -90" scale="0.4 0.4 0.4" onclick="scene_4()">
					<a-text color="black" value="Go to next" rotation="0 0 90" position="1 -1 1" scale="1 1 1"></a-text>
				</a-cone>
			</a-entity>

			<a-entity id="scene4" class="scene" position="0 30 0" visible="false">
				<a-videosphere src="#video3"></a-videosphere>

				<a-cone color="red" position="1.1 1 0" rotation="0 0 90" scale="0.4 0.4 0.4" onclick="scene_3()">
					<a-text color="black" value="Go to previous" rotation="0 0 -90" position="-1 0.3 1" scale="1 1 1"></a-text>
				</a-cone>
				<a-box color="red" position="2 1 0" scale="0.4 0.4 0.4" onclick="home()">
					<a-text color="black" value="Return home" position="-0.6 -0.5 1" scale="1 1 1"></a-text>
				</a-box>
				<a-cone color="red" position="2.9 1 0" rotation="0 0 -90" scale="0.4 0.4 0.4" onclick="scene_5()">
					<a-text color="black" value="Go to next" rotation="0 0 90" position="1 -1 1" scale="1 1 1"></a-text>
				</a-cone>
			</a-entity>

			<a-entity id="scene5" class="scene" position="0 40 0" visible="false">
				<a-videosphere src="#video3"></a-videosphere>

				<a-cone color="red" position="1.1 1 0" rotation="0 0 90" scale="0.4 0.4 0.4" onclick="scene_4()">
					<a-text color="black" value="Go to previous" rotation="0 0 -90" position="-1 0.3 1" scale="1 1 1"></a-text>
				</a-cone>
				<a-box color="red" position="2 1 0" scale="0.4 0.4 0.4" onclick="home()">
					<a-text color="black" value="Return home" position="-0.6 -0.5 1" scale="1 1 1"></a-text>
				</a-box>
				<a-cone color="red" position="2.9 1 0" rotation="0 0 -90" scale="0.4 0.4 0.4" onclick="scene_1()">
					<a-text color="black" value="Go to next" rotation="0 0 90" position="1 -1 1" scale="1 1 1"></a-text>
				</a-cone>
			</a-entity>
	
			<!-- Player Viewport -->
			<a-entity id="camera" position="2 0 3">
				<a-camera wasd-controls-enabled="false">
					<a-text id="instructions" color="black" visible="true" value="Press anywhere to begin" position="-1.138 0.428 -3.725" scale="1 1 1"></a-text>
					<!-- Cursor Circle --> 
					<a-cursor color="red"> </a-cursor>
				</a-camera>
			</a-entity>
		</a-scene>

		<script type="text/javascript">
			var video1 = document.getElementById("video1");
			var video1sphere = document.getElementById("video1sphere");
			video1sphere.addEventListener('click', function(){
				if (document.getElementById("instructions").getAttribute("visible")) {
					video1.play();
					document.getElementById("instructions").setAttribute("visible", "false")
				}
			});

			function home() {
				window.location.href = '/index.html';
			}

			function pauseVideos() {
				document.querySelectorAll(".video").forEach(video => {
					video.pause();
				});
			}

			function hideScenes() {
				document.querySelectorAll(".scene").forEach(scene => {
					scene.setAttribute("visible", "false");
				});
			}

			function scene_1() {
				pauseVideos();
				hideScenes();
				document.getElementById("video1").currentTime = 0;
				document.getElementById("scene1").setAttribute("visible", "true");
				document.getElementById("camera").setAttribute("position", "2 0 3");
				document.getElementById("video1").play();
			}
	
			function scene_2() {
				pauseVideos();
				hideScenes();
				document.getElementById("video2").currentTime = 0;
				document.getElementById("scene2").setAttribute("visible", "true");
				document.getElementById("camera").setAttribute("position", "2 10 3");
				document.getElementById("video2").play();
			}
	
			function scene_3() {
				pauseVideos();
				hideScenes();
				document.getElementById("video3").currentTime = 0;
				document.getElementById("scene3").setAttribute("visible", "true");
				document.getElementById("camera").setAttribute("position", "2 20 3");
				document.getElementById("video3").play();
			}

			function scene_4() {
				pauseVideos();
				hideScenes();
				document.getElementById("video4").currentTime = 0;
				document.getElementById("scene4").setAttribute("visible", "true");
				document.getElementById("camera").setAttribute("position", "2 30 3");
				document.getElementById("video4").play();
			}

			function scene_5() {
				pauseVideos();
				hideScenes();
				document.getElementById("video5").currentTime = 0;
				document.getElementById("scene5").setAttribute("visible", "true");
				document.getElementById("camera").setAttribute("position", "2 40 3");
				document.getElementById("video5").play();
			}
		</script>
	</body>
</html>
